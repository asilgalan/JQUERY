<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>

    <h1>coches</h1>
    <select name="" id="coche">

    </select>
    <div class="contenedor" id="contenedor"></div>
  <script src="js/jquery-3.7.1.min.js"></script>
<script>
     $(document).ready(function(){

        var html="";
        $.get("https://apiclientesxml.azurewebsites.net/api/Clientes/GetCochesXML",function(data){

            console.log("leyendo");
          
            $(data).find("coche").each(function(){
                var nombre=$(this).find("marca").first().text();
                console.log(nombre);
                var option=$("<option>")
                var id=$(this).attr("idcoche")
                var modelo=$(this).find("modelo").text();
                option.val(id)
                option.text(nombre)
                   $("#coche").append(option)
            })
          

            $("#coche").change(function(){
                var id=$(this).val()
                  $.get("https://apiclientesxml.azurewebsites.net/api/Clientes/GetCochesXML",function(data){      
                    var filtro= "coche[idcoche="+id+"]"         
                   var nodo= $(data).find(filtro).first();
                    var imagen= nodo.find("imagen").text();
console.log(imagen);

                    $("#contenedor").html("<img src='"+imagen+"' style='wisth:150px'/>");
                  })

            })
         
        })
})
</script>
</body>
</html>